webpackJsonp([27],{"TuY/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=null,a={data:function(){return{}},mounted:function(){this.startRecognize(),this.startScan()},beforeDestroy:function(){this.closeScan(),this.cancelScan()},methods:{gallery:function(){var t=this;window.plus&&plus.gallery.pick(function(e){plus.barcode.scan(e,function(e,n){sessionStorage.setItem("qrCode",n),t.closeScan(),t.cancelScan(),t.pushPath("/extract")},function(t){Toast({message:"扫描失败,请检查二维码是否正确!",position:"center",duration:"1000"})})},function(t){},{filter:"image"})},startRecognize:function(){var t=this;if(window.plus){(c=new plus.barcode.Barcode("bcid",void 0,{frameColor:"#0E0E0E",scanbarColor:"#0E0E0E"})).onmarked=function(e,n,c){switch(e){case plus.barcode.QR:e="QR";break;case plus.barcode.EAN13:e="EAN13";break;case plus.barcode.EAN8:e="EAN8";break;default:e="其它"+e}""!=(n=n.replace(/\n/g,""))?(sessionStorage.setItem("qrCode",n),t.closeScan(),t.cancelScan(),t.pushPath("/extract")):(t.pushPath("/home"),Toast({message:"扫描失败,请扫描正确的二维码!",position:"center",duration:"1000"}))}}},startScan:function(){window.plus&&c.start()},cancelScan:function(){window.plus&&c.cancel()},closeScan:function(){window.plus&&c.close()}}},s={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"scan"},[c("div",{staticClass:"header_box"},[c("div",{on:{click:function(e){t.goBack()}}},[c("img",{attrs:{src:n("2wK9"),alt:""}})]),t._v(" "),c("div",[t._v("扫一扫")]),t._v(" "),c("div",{on:{click:function(e){t.gallery()}}},[c("span",[t._v("相册")])])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"bcid"}},[e("div",{staticStyle:{height:"40%"}}),this._v(" "),e("p",{staticClass:"tip",staticStyle:{color:"#fff"}},[this._v("...")])])}]};var i=n("VU/8")(a,s,!1,function(t){n("eyZ0")},null,null);e.default=i.exports},eyZ0:function(t,e){}});