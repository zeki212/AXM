webpackJsonp([35],{"9/6R":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("eqfM");var s=i("/QYm"),a=i("mvHQ"),n=i.n(a),o=(i("IoXr"),{data:function(){return{active:1,pageNo:1,pageSize:10,list:"",isLoad:!1,loading:!1,isLoading:!1,finished:!0,userInfo:JSON.parse(localStorage.getItem("userInfo")),version:this.$information.VERSION}},created:function(){},mounted:function(){this.getTradeOrderList()},methods:{getOrderX:function(t){4==t.tradeStatus&&(this.$router.push({name:"orderX"}),localStorage.orderList=n()(t))},getActiveList:function(t){this.active=t,this.getTradeOrderList()},getCancelOrder:function(t){var e=this,i={version:this.version,orderId:t},a=encodeParams(i,this.userInfo.userId,this.userInfo.tokenId,this.userInfo.appKey);this.$ajax(this.$api.cancelOrder,{version:this.version,orderId:t},a.sign).then(function(t){200==t.code?(e.getTradeOrderList(),Object(s.a)({message:t.msg,position:"center",duration:"1000"})):Object(s.a)({message:t.msg,position:"center",duration:"1000"})})},getTradeOrderList:function(){var t=this,e={version:this.version,pageNo:this.pageNo=1,pageSize:this.pageSize,type:this.active},i=encodeParams(e,this.userInfo.userId,this.userInfo.tokenId,this.userInfo.appKey);this.isLoad=!1,this.$ajax(this.$api.getTradeOrderList,{version:this.version,pageNo:e.pageNo,pageSize:this.pageSize,type:this.active},i.sign).then(function(e){t.loading=!1,t.isLoad=!0,200==e.code?e.data&&(t.list=e.data.list,t.finished=e.data.totalCount/e.data.pageSize<t.pageNo):Object(s.a)({message:e.msg,position:"bottom"})})},loadMore:function(){var t=this,e={version:this.version,pageNo:this.pageNo+=1,pageSize:this.pageSize,type:this.active},i=encodeParams(e,this.userInfo.userId,this.userInfo.tokenId,this.userInfo.appKey);this.isLoad=!1,this.$ajax(this.$api.getTradeOrderList,{version:this.version,pageNo:e.pageNo,pageSize:this.pageSize,type:this.active},i.sign).then(function(e){t.loading=!1,200==e.code?e.data&&e.data.list.length>0?(t.list=t.list.concat(e.data.list),t.finished=e.data.totalCount/e.data.pageSize<t.pageNo):t.finished=!0:Object(s.a)({message:e.msg,position:"bottom"})})},onRefresh:function(){var t=this;setTimeout(function(){t.getTradeOrderList(),t.isLoading=!1},500)}}}),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("my-header",{staticClass:"headerS",attrs:{showBack:!0,title:"我的订单"}}),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"tabtitle"},[s("div",[1==t.active?s("span",{staticStyle:{fontSize:"4vw",color:"#333"},on:{click:function(e){t.getActiveList(1)}}},[t._v("委托订单")]):s("span",{on:{click:function(e){t.getActiveList(1)}}},[t._v("委托订单")]),t._v(" "),3==t.active?s("span",{staticStyle:{fontSize:"4vw",color:"#333"},on:{click:function(e){t.getActiveList(3)}}},[t._v("已完成")]):s("span",{on:{click:function(e){t.getActiveList(3)}}},[t._v("已完成")])])]),t._v(" "),s("van-pull-refresh",{staticClass:"myHeight",on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[s("van-list",{attrs:{finished:t.finished,offset:20},on:{load:t.loadMore},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,i){return s("ul",{key:i},[s("li",{on:{click:function(i){t.getOrderX(e)}}},[s("p",[1==e.orderType?s("em",{staticStyle:{color:"#37A891"}},[t._v("买入")]):t._e(),t._v(" "),2==e.orderType?s("em",{staticStyle:{color:"#EE281C"}},[t._v("卖出")]):t._e(),t._v(" "),t._v("\n               AXM/USDT\n              "),1==e.tradeStatus?s("span",[s("button",{on:{click:function(i){t.getCancelOrder(e.orderId)}}},[t._v("取消订单")])]):t._e(),t._v(" "),4==e.tradeStatus?s("span",[t._v("已完成")]):t._e(),t._v(" "),5==e.tradeStatus?s("span",[t._v("已取消")]):t._e()]),t._v(" "),s("div",{staticClass:"cont"},[s("div",[s("p",{staticStyle:{textAlign:"left"}},[t._v("时间")]),t._v(" "),s("p",{staticStyle:{textAlign:"left"}},[t._v(t._s(t._f("formatDate")(e.orderTime,"yyyy-MM-dd hh:mm:ss")))])]),t._v(" "),s("div",[s("p",[t._v("委托价（usdt）")]),t._v(" "),s("p",[t._v(t._s(e.price))])]),t._v(" "),s("div",[s("p",[t._v("委托量（axm）")]),t._v(" "),s("p",[t._v(t._s(e.num))])])])])])}))],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoad&&0==t.list.length,expression:"isLoad&&list.length==0"}],staticClass:"no_data"},[s("img",{attrs:{src:i("N7qV"),alt:""}})])],1)],1)},staticRenderFns:[]};var d=i("VU/8")(o,r,!1,function(t){i("DRbC")},"data-v-3c77049c",null);e.default=d.exports},DRbC:function(t,e){}});