webpackJsonp([18],{DpyV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("eqfM");var s=a("/QYm"),n={data:function(){return{time:60,sendDisabled:!1,files2:"",myInfo:"",code:"",account:"",realname:"",userInfo:JSON.parse(localStorage.getItem("userInfo"))}},created:function(){this.getCustInfo()},mounted:function(){},methods:{getCustInfo:function(){var e=this,t=encodeParams({},this.userInfo.userId,this.userInfo.tokenId,this.userInfo.appKey);this.$ajax(this.$api.getCustInfo,{},t.sign).then(function(t){200==t.code?e.myInfo=t.data:Object(s.a)({message:t.msg,position:"center",duration:"1000"})})},getSmsCode:function(){var e=this,t={orderId:this.buyData.orderId,msgType:"6"},a=encodeParams(t,this.userInfo.userId,this.userInfo.tokenId,this.userInfo.appKey);this.$ajax(this.$api.sendMsgCode,{orderId:this.buyData.orderId,msgType:"6"},a.sign).then(function(t){if(200==t.code){Object(s.a)({message:t.msg,position:"center",duration:"1000"});var a=e;a.sendDisabled=!0;var n=window.setInterval(function(){a.time--<=0&&(a.time=60,a.sendDisabled=!1,window.clearInterval(n))},1e3)}else Object(s.a)({message:t.msg,position:"center",duration:"1000"})})},addImg:function(){var e=this.$refs.fileInfo2.files[0];if(this.$refs.fileInfo2.value="",parseFloat(parseInt(e.size)/1024/1024).toFixed(2)>18)Object(s.a)({message:"上传图片过大!",position:"center",duration:"1000"});else if(e){var t=this,a=new FileReader;a.onload=function(e){t.img2=e.target.result},a.readAsDataURL(e),t.statesw="2";t.$api.baseURL;var n=t.userInfo.userId,i=t.userInfo.tokenId,o=t.userInfo.appKey,r=encodeParams({type:1,file:e},n,i,o),c=new FormData;c.append("file",e),c.append("type","1"),$.ajax({url:"https://api.yuediankeji.com/api/anon/uploadPhoto",type:"post",data:c,cache:!1,processData:!1,contentType:!1,beforeSend:function(e){e.setRequestHeader("sign",r.sign),e.setRequestHeader("userId",n),e.setRequestHeader("tokenid",i)},success:function(e){200==e.code&&(t.files2=e.data.imageUrl,t.statesw="1")},error:function(e){Object(s.a)({message:e.msg,position:"center",duration:"1000"})}})}},submitIdentityInfo:function(){this.realname?this.code?this.account?this.files2||Object(s.a)({message:"请上传付款信息截图!",position:"center",duration:"1000"}):Object(s.a)({message:"请输入支付宝账户！",position:"center",duration:"1000"}):Object(s.a)({message:"请输入验证码！",position:"center",duration:"1000"}):Object(s.a)({message:"请输入姓名！",position:"center",duration:"1000"})}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("my-header",{staticClass:"headerS",attrs:{showBack:!0,title:"上传收款信息"}}),e._v(" "),s("div",{staticClass:"content"},[s("ul",[s("li",[s("p",[e._v("请输入姓名")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.realname,expression:"realname"}],attrs:{type:"text",placeholder:"输入真实姓名"},domProps:{value:e.realname},on:{input:function(t){t.target.composing||(e.realname=t.target.value)}}})]),e._v(" "),s("li",[s("p",[e._v("验证码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",maxlength:"4",placeholder:"输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),e.sendDisabled?e._e():s("span",{staticStyle:{right:"5vw",color:"#EE281C","font-size":"3vw"},on:{click:e.getSmsCode}},[e._v("获取验证码")]),e._v(" "),e.sendDisabled?s("span",{staticStyle:{right:"5vw",color:"#EE281C","font-size":"3vw"}},[e._v(e._s(e.time)+"s")]):e._e()]),e._v(" "),s("li",[s("p",[e._v("支付宝账号")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{type:"text",placeholder:"输入您的账号"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),e._v(" "),s("li",[s("p",[e._v("上传收款码")]),e._v(" "),s("div",[s("label",{staticClass:"img_box",attrs:{for:"uploadImg1"}},[e.files2?s("p",{attrs:{id:"imgBox1"}},[s("img",{attrs:{src:e.files2,alt:""}})]):e._e(),e._v(" "),e.files2?e._e():s("div",{staticClass:"imgBoxs"},[s("img",{attrs:{src:a("W/Fe"),alt:""}})]),e._v(" "),s("input",{ref:"fileInfo2",attrs:{type:"file",accept:"image/*",id:"uploadImg1"},on:{change:e.addImg}})])])]),e._v(" "),s("li",[s("button",{on:{click:e.submitIdentityInfo}},[e._v("确认")])])])])],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(e){a("LXfR")},"data-v-177742f8",null);t.default=o.exports},LXfR:function(e,t){},"W/Fe":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAABPCAYAAACqNJiGAAABFklEQVR4Xu3bsQ2EMBQFQVyta3K1oEsREZsY3ZCv9Bleyjg2fNZa5/2sOefY7dTtDvoBwQszgQcvCITU8uAFgZBaHrwgEFLLgxcEQmp58IJASC0PXhAIqeXBCwIhtTx4QSCklgcvCITU8uAFgZBaHrwgEFLLgxcEQmp58IJASC0PXhAIqeXBCwIhtTx4QSCklgcvCIT0M8t7OjS891+lA9777w3vvd0BD14QCKmfWOAFgZBaHrwgEFLLgxcEQmp58IJASC0PXhAIqeXBCwIhtTx4QSCklgcvCITU8uAFgZBaHrwgEFLLgxcEQmp58IJASC0PXhAIqeXBCwIhtTx4QSCklgcvCITU8uAFgZBaHrwgEFLLC3gX9Uw2UaAJuh0AAAAASUVORK5CYII="}});