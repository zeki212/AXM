webpackJsonp([21],{IqYd:function(e,a){},u6qG:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});t("eqfM");var o=t("/QYm"),n={data:function(){return{username:"",idNo:"",alipayAccount:"",bankCardNo:"",bankCode:"",disabled:!1,contactNumber:"",user:JSON.parse(localStorage.getItem("user")),userInfo:JSON.parse(localStorage.getItem("userInfo")),version:this.$information.VERSION}},created:function(){this.getCustInfo()},methods:{getCustInfo:function(){var e=this,a=encodeParams({},this.userInfo.userId,this.userInfo.tokenId,this.userInfo.appKey);this.$ajax(this.$api.getCustInfo,{},a.sign).then(function(a){200==a.code?(e.user=a.data,""!=a.data.alipayAccount&&""!=a.data.bankCardNo&&""!=a.data.bankCode&&""!=a.data.contactNumber&&(e.disabled=!0,e.alipayAccount=a.data.alipayAccount,e.bankCardNo=a.data.bankCardNo,e.bankCode=a.data.bankCode,e.contactNumber=a.data.contactNumber)):Object(o.a)({message:a.msg,position:"center"})})},updateUserPayInfo:function(){var e=this;if(this.alipayAccount)if(this.bankCardNo)if(this.bankCode)if(this.contactNumber){var a={alipayAccount:this.alipayAccount,bankCardNo:this.bankCardNo,bankCode:this.bankCode,contactNumber:this.contactNumber},t=encodeParams(a,this.userInfo.userId,this.userInfo.tokenId,this.userInfo.appKey);this.$ajax(this.$api.updateUserPayInfo,{alipayAccount:this.alipayAccount,bankCardNo:this.bankCardNo,bankCode:this.bankCode,contactNumber:this.contactNumber},t.sign).then(function(a){200==a.code?(Object(o.a)({message:a.msg,position:"center"}),e.getCustInfo()):Object(o.a)({message:a.msg,position:"center"})})}else Object(o.a)({message:"请输入您的手机号码",position:"center"});else Object(o.a)({message:"请输入开户行",position:"center"});else Object(o.a)({message:"请输入银行卡账号",position:"center"});else Object(o.a)({message:"请输入支付宝账号",position:"center"})}}},s={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("my-header",{attrs:{showBack:!0,title:"个人信息"}}),e._v(" "),t("div",{staticClass:"content"},[t("ul",[t("li",[t("p",[e._v("用户名")]),e._v(" "),t("p",[e._v(e._s(e.user.realName))])]),e._v(" "),t("li",[t("p",[e._v("注册时间")]),e._v(" "),t("p",[e._v(e._s(e._f("formatDate")(e.user.registerTime,"yyyy-MM-dd hh:mm:ss")))])]),e._v(" "),t("li",[t("p",[e._v("用户等级")]),e._v(" "),0==e.user.level?t("p",[e._v("普通矿工")]):e._e(),e._v(" "),1==e.user.level?t("p",[e._v("好心人")]):e._e(),e._v(" "),2==e.user.level?t("p",[e._v("志愿者")]):e._e(),e._v(" "),3==e.user.level?t("p",[e._v("大慈善家")]):e._e(),e._v(" "),4==e.user.level?t("p",[e._v("有义之士")]):e._e()])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("用户姓名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.realName,expression:"user.realName"}],attrs:{type:"text",readonly:e.disabled,placeholder:"请输入姓名"},domProps:{value:e.user.realName},on:{input:function(a){a.target.composing||e.$set(e.user,"realName",a.target.value)}}})]),e._v(" "),t("li",[t("p",[e._v("身份证号")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.idNo,expression:"user.idNo"}],attrs:{type:"text",readonly:e.disabled,placeholder:"请输入身份证号"},domProps:{value:e.user.idNo},on:{input:function(a){a.target.composing||e.$set(e.user,"idNo",a.target.value)}}})]),e._v(" "),t("li",[t("p",[e._v("支付宝")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.alipayAccount,expression:"alipayAccount"}],attrs:{type:"text",readonly:e.disabled,placeholder:"请输入支付宝账号"},domProps:{value:e.alipayAccount},on:{input:function(a){a.target.composing||(e.alipayAccount=a.target.value)}}})]),e._v(" "),t("li",[t("p",[e._v("银行卡")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.bankCardNo,expression:"bankCardNo"}],attrs:{type:"text",readonly:e.disabled,placeholder:"请输入银行卡号"},domProps:{value:e.bankCardNo},on:{input:function(a){a.target.composing||(e.bankCardNo=a.target.value)}}})]),e._v(" "),t("li",[t("p",[e._v("银行开户行")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.bankCode,expression:"bankCode"}],attrs:{type:"text",readonly:e.disabled,placeholder:"请输入开户行，如建设银行"},domProps:{value:e.bankCode},on:{input:function(a){a.target.composing||(e.bankCode=a.target.value)}}})]),e._v(" "),t("li",[t("p",[e._v("联系电话")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.contactNumber,expression:"contactNumber"}],attrs:{type:"text",readonly:e.disabled,maxlength:"11",placeholder:"请填写您的手机号码"},domProps:{value:e.contactNumber},on:{input:function(a){a.target.composing||(e.contactNumber=a.target.value)}}})]),e._v(" "),0==e.disabled?t("button",{on:{click:e.updateUserPayInfo}},[e._v("保存")]):e._e(),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.disabled,expression:"disabled == false"}]},[e._v("注：每个账号只有一次保存支付信息机会哟！")])])])],1)},staticRenderFns:[]};var r=t("VU/8")(n,s,!1,function(e){t("IqYd")},"data-v-d390d1bc",null);a.default=r.exports}});