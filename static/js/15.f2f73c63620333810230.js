webpackJsonp([15],{"2QeR":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o("eqfM");var a=o("/QYm"),r=o("xrTZ").Base64,n={name:"register",data:function(){return{payPass:"",type:1,customerNumber:"",phone:"",password:"",code:"",parentPhone:"",againPass:"",parentNumberReadonly:!1,time:60,sendDisabled:!1,agreeRadio:!0,passwordType:"password",payPassType:"password",againPassType:"password",agreePopup:!1,uuid:"",image:"",imageCode:"",cityName:"武汉市"}},created:function(){-1!=this.$route.fullPath.indexOf("?")&&this.goBack()},watch:{$route:function(e,t){-1!=t.fullPath.indexOf("?")&&(this.agreePopup=!1)}},mounted:function(){this.getRegisterCode()},methods:{getRegisterCode:function(){var e=this;this.$ajax(this.$api.getRegisterCode,{},{}).then(function(t){200==t.code?(e.uuid=t.data.uuid,e.image=t.data.image):Object(a.a)({message:t.message,position:"center",duration:"1000"})})},showPassword:function(e){1==e?"password"==this.passwordType?this.passwordType="text":this.passwordType="password":"password"==this.payPassType?this.payPassType="text":this.payPassType="password"},showAgainword:function(){"password"==this.againPassType?this.againPassType="text":this.againPassType="password"},getSmsCode:function(){var e=this;this.$validator.isPhone(this.phone)?this.imageCode?this.$validator.isPhone(this.phone)?this.$ajax(this.$api.sms,{mobile:this.phone,msgType:"1",imageCode:this.imageCode,uuid:this.uuid},{}).then(function(t){if(200==t.code){Object(a.a)({message:t.msg,position:"center",duration:"1000"});var o=e;o.sendDisabled=!0;var r=window.setInterval(function(){o.time--<=0&&(o.time=60,o.sendDisabled=!1,window.clearInterval(r))},1e3)}else Object(a.a)({message:t.msg,position:"center",duration:"1000"})}):Object(a.a)({message:"请检查手机号码是否输入正确！",position:"center",duration:"1000"}):Object(a.a)({message:"请输入图片验证码！",position:"center",duration:"1000"}):Object(a.a)({message:"请填写正确的手机号码！",position:"center",duration:"1000"})},openAgreement:function(){-1==window.location.href.indexOf("?agreePopup")&&(window.location.href=window.location.href+"?agreePopup"),this.agreePopup=!0},validatePwd:function(e){return!!/^[0-9]{6}$/.test(e)},register:function(){var e=this;this.$validator.isPhone(this.phone)?this.cityName?this.code?this.$validator.isPassword(this.password)?this.validatePwd(this.payPass)?this.parentPhone?this.$ajax(this.$api.register,{mobile:this.phone,msgVerCode:this.code,password:this.password,inviteCode:this.parentPhone,payPwd:this.payPass,cityName:this.cityName},{}).then(function(t){200==t.code?(Object(a.a)({message:t.msg,position:"center",duration:"1000"}),sessionStorage.setItem("phone",e.phone),localStorage.setItem(r.encode("password"),r.encode(e.password)),e.$router.replace("/login")):Object(a.a)({message:t.msg,position:"center",duration:"1000"})}):Object(a.a)({message:"请填写邀请码！",position:"center",duration:"1000"}):Object(a.a)({message:"请输入6位数的交易密码！",position:"center",duration:"1000"}):Object(a.a)({message:"请填写6-12位数字或字母组成的登录密码！",position:"center",duration:"1000"}):Object(a.a)({message:"请填写短信验证码！",position:"center",duration:"1000"}):Object(a.a)({message:"请选择注册城市！",position:"center",duration:"1000"}):Object(a.a)({message:"请填写正确的手机号码！",position:"center",duration:"1000"})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("div",[a("div",{staticClass:"register_box"},[a("p",{on:{click:function(t){e.pushPath("/login")}}},[a("img",{attrs:{src:o("2wK9"),alt:""}})]),e._v(" "),e._m(0),e._v(" "),a("ol",{staticClass:"account_box"},[a("p",[e._v("手机号")]),e._v(" "),a("li",{staticClass:"van-hairline--bottom",staticStyle:{padding:"2vh 5px 1vh"}},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.phone,expression:"phone",modifiers:{trim:!0}}],attrs:{maxlength:"11",type:"text",placeholder:"手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("p",[e._v("图片验证码")]),e._v(" "),a("li",{ref:"loginBox",staticClass:"van-hairline--bottom"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.imageCode,expression:"imageCode",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入图片验证码"},domProps:{value:e.imageCode},on:{input:function(t){t.target.composing||(e.imageCode=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("span",{on:{click:e.getRegisterCode}},[a("img",{attrs:{src:e.image,alt:""}})])]),e._v(" "),a("p",[e._v("短信验证码")]),e._v(" "),a("li",{ref:"loginBox",staticClass:"van-hairline--bottom"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.code,expression:"code",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"6",placeholder:"请输入短信验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.sendDisabled?e._e():a("span",{staticStyle:{color:"#FF4444"},on:{click:e.getSmsCode}},[e._v("获取验证码")]),e._v(" "),e.sendDisabled?a("span",{staticStyle:{color:"#FF4444"}},[e._v(e._s(e.time)+"s")]):e._e()]),e._v(" "),a("p",[e._v("登录密码")]),e._v(" "),a("li",{staticClass:"van-hairline--bottom"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:e.passwordType,placeholder:"请设置登录密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"password"==e.passwordType,expression:"passwordType=='password'"}],staticClass:"iconfont icon-eye-close",staticStyle:{color:"#EE281C"},on:{click:function(t){e.showPassword(1)}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"text"==e.passwordType,expression:"passwordType=='text'"}],staticClass:"iconfont icon-eye-open",staticStyle:{color:"#EE281C"},on:{click:function(t){e.showPassword(1)}}})]),e._v(" "),a("p",[e._v("交易密码")]),e._v(" "),a("li",{staticClass:"van-hairline--bottom"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.payPass,expression:"payPass",modifiers:{trim:!0}}],attrs:{type:e.payPassType,maxlength:"6",placeholder:"请设置交易密码"},domProps:{value:e.payPass},on:{input:function(t){t.target.composing||(e.payPass=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"password"==e.payPassType,expression:"payPassType=='password'"}],staticClass:"iconfont icon-eye-close",staticStyle:{color:"#EE281C"},on:{click:function(t){e.showPassword(2)}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"text"==e.payPassType,expression:"payPassType=='text'"}],staticClass:"iconfont icon-eye-open",staticStyle:{color:"#EE281C"},on:{click:function(t){e.showPassword(2)}}})]),e._v(" "),a("p",[e._v("邀请人号码")]),e._v(" "),a("li",{staticClass:"van-hairline--bottom"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.parentPhone,expression:"parentPhone",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"11",readonly:e.parentNumberReadonly,placeholder:"请输入邀请人手机号码"},domProps:{value:e.parentPhone},on:{input:function(t){t.target.composing||(e.parentPhone=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])])]),e._v(" "),a("div",{staticClass:"account_btn"},[a("van-button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.register()}}},[e._v("注 册")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("p",{staticStyle:{color:"#333333",fontSize:"6vw",lineHeight:"10vw"}},[this._v("嗨，欢迎来到AXM")]),this._v(" "),t("p",[this._v("加入爱的大家庭")])])}]};var i=o("VU/8")(n,s,!1,function(e){o("atoU")},"data-v-50f3f0ac",null);t.default=i.exports},atoU:function(e,t){},xrTZ:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,function(global){"use strict";var _Base64=global.Base64,version="2.4.9",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},o=0,a=e.length;o<a;o++)t[e.charAt(o)]=o;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],o=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(o>>>18),b64chars.charAt(o>>>12&63),t>=2?"=":b64chars.charAt(o>>>6&63),t>=1?"=":b64chars.charAt(63&o)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,o=t%4,a=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),r=[fromCharCode(a>>>16),fromCharCode(a>>>8&255),fromCharCode(255&a)];return r.length-=[0,0,2,1][o],r.join("")},atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,cb_decode)},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),void 0!==module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(exports,__webpack_require__("DuR2"))}});